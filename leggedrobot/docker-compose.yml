version: '3.8'

services:
  video-stream:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: leggedrobot-video-stream
    ports:
      - "5005:5005/udp"  # UDP 비디오 스트림 수신 포트
      - "7860:7860"      # Gradio 웹 인터페이스 포트
    volumes:
      # 필요시 로그나 데이터 마운트 가능
      - ./workspace:/workspace
    environment:
      - PYTHONUNBUFFERED=1
      - GRADIO_SERVER_NAME=0.0.0.0
      - GRADIO_SERVER_PORT=7860
    restart: unless-stopped
    networks:
      - video-stream-network

networks:
  video-stream-network:
    driver: bridge

